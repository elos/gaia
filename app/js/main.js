!function e(t,n,o){function a(r,i){if(!n[r]){if(!t[r]){var c="function"==typeof require&&require;if(!i&&c)return c(r,!0);if(s)return s(r,!0);var d=new Error("Cannot find module '"+r+"'");throw d.code="MODULE_NOT_FOUND",d}var l=n[r]={exports:{}};t[r][0].call(l.exports,function(e){var n=t[r][1][e];return a(n?n:e)},l,l.exports,e,t,n,o)}return n[r].exports}for(var s="function"==typeof require&&require,r=0;r<o.length;r++)a(o[r]);return a}({1:[function(e,t,n){var o=e("../actions/cli-actions"),a={input:function(e){o.input(e)}};t.exports=a},{"../actions/cli-actions":6}],2:[function(e,t,n){var o=e("../actions/config-actions"),a={update:function(e,t){o.update(e,t)}};t.exports=a},{"../actions/config-actions":7}],3:[function(e,t,n){var o=e("../actions/record-actions"),a={save:function(e,t){o.save(e,t)},query:function(e,t){o.generateQuery(e,t)}};t.exports=a},{"../actions/record-actions":8}],4:[function(e,t,n){var o=e("../actions/route-actions"),a=e("../constants/route-constants"),s={ShowAccountDetails:function(){o.changeTo(a.AccountDetails)},ShowCLI:function(){o.changeTo(a.CLI)},ShowTodos:function(){o.changeTo(a.Todos)}};t.exports=s},{"../actions/route-actions":9,"../constants/route-constants":17}],5:[function(e,t,n){var o=e("../actions/todos-actions"),a={complete:function(e){o.completeTask(e)}};t.exports=a},{"../actions/todos-actions":10}],6:[function(e,t,n){var o=e("../dispatcher/app-dispatcher"),a=e("../constants/app-constants"),s={input:function(e){o.dispatch({actionType:a.CLI_INPUT,data:{input:e}})}};t.exports=s},{"../constants/app-constants":16,"../dispatcher/app-dispatcher":18}],7:[function(e,t,n){var o=e("../dispatcher/app-dispatcher"),a=e("../constants/app-constants"),s={update:function(e,t){o.dispatch({actionType:a.CONFIG_UPDATE,data:{publicCredential:e,privateCredential:t}})}};t.exports=s},{"../constants/app-constants":16,"../dispatcher/app-dispatcher":18}],8:[function(e,t,n){var o=e("../dispatcher/app-dispatcher"),a=e("../constants/app-constants"),s={save:function(e,t){o.dispatch({actionType:a.RECORD_UPDATE,data:{kind:e,record:t}})},generateQuery:function(e,t){o.dispatch({actionType:a.RECORD_QUERY,data:{kind:e,attrs:t}})}};t.exports=s},{"../constants/app-constants":16,"../dispatcher/app-dispatcher":18}],9:[function(e,t,n){var o=e("../dispatcher/app-dispatcher"),a=e("../constants/app-constants"),s={changeTo:function(e){o.dispatch({actionType:a.ROUTE_CHANGE,data:{newRoute:e}})}};t.exports=s},{"../constants/app-constants":16,"../dispatcher/app-dispatcher":18}],10:[function(e,t,n){var o=e("../dispatcher/app-dispatcher"),a=e("../constants/app-constants"),s={completeTask:function(e){o.dispatch({actionType:a.TODOS_COMPLETE,data:{task_id:e}})}};t.exports=s},{"../constants/app-constants":16,"../dispatcher/app-dispatcher":18}],11:[function(e,t,n){var o=e("react"),a=e("../utils/logger"),s=e("../stores/config-store"),r=e("../action-creators/config-action-creator"),i=(e("../action-creators/route-action-creator"),o.createClass({displayName:"AccountDetails",componentDidMount:function(){componentHandler.upgradeDom(),a.info("account details mount")},componentDidUpdate:function(){componentHandler.upgradeDom()},getInitialState:function(){return{publicCredential:s.getPublicCredential(),privateCredential:s.getPrivateCredential()}},changePublicCredential:function(e){this.setState({publicCredential:e.target.value})},changePrivateCredential:function(e){this.setState({privateCredential:e.target.value})},saveCredentials:function(){r.update(this.state.publicCredential,this.state.privateCredential)},render:function(){return o.createElement("div",{className:"account-details mdl-card mdl-shadow--2dp"},o.createElement("div",{className:"mdl-card__title"},o.createElement("h2",{className:"mdl-card__title-text"},"Account Details")),o.createElement("form",{action:"#"},o.createElement("div",{className:"mdl-textfield mdl-js-textfield mdl-textfield--floating-label"},o.createElement("input",{className:"mdl-textfield__input",type:"text",id:"publicCredential",value:this.state.publicCredential,onChange:this.changePublicCredential}),o.createElement("label",{className:"mdl-textfield__label","for":"publicCredential"},"Public Credential...")),o.createElement("br",null),o.createElement("div",{className:"mdl-textfield mdl-js-textfield mdl-textfield--floating-label"},o.createElement("input",{className:"mdl-textfield__input",type:"text",id:"privateCredential",value:this.state.privateCredential,onChange:this.changePrivateCredential}),o.createElement("label",{className:"mdl-textfield__label","for":"privateCredenetial"},"Private Credential..."))),o.createElement("button",{className:"mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent",onClick:this.saveCredentials},"Save"))}}));t.exports=i},{"../action-creators/config-action-creator":2,"../action-creators/route-action-creator":4,"../stores/config-store":21,"../utils/logger":28,react:"react"}],12:[function(e,t,n){var o=e("react"),a=(e("../utils/logger"),e("../stores/cli-store")),s=e("../action-creators/cli-action-creator"),r=(e("../action-creators/route-action-creator"),o.createClass({displayName:"CLI",componentDidMount:function(){a.addChangeListener(this._onNewChange)},componentWillUnmount:function(){a.removeChangeListener(this._onNewChange)},componentDidUpdate:function(){var e=document.getElementById("cli-output-box");e.scrollTop=e.scrollHeight},getInitialState:function(){return{input:"",history:a.getHistory()}},changeInput:function(e){this.setState({input:e.target.value})},submitInput:function(){s.input(this.state.input),this.setState({input:""})},inputKeyPress:function(e){"Enter"===e.key&&this.submitInput()},render:function(){var e,t="";for(e=this.state.history.length-1;e>=0;e--)t=this.state.history[e]+t,0!==e&&(t="\n"+t);return o.createElement("div",{className:"cli"},o.createElement("div",{className:"todos-title"},o.createElement("h2",{className:"todos-title-text"}," CLI ")),o.createElement("div",{className:"card"},o.createElement("div",{className:"cli-output",id:"cli-output-box"},t),o.createElement("div",{className:"cli-input"},o.createElement("i",{className:"material-icons cli-input-icon"},"keyboard_arrow_right"),o.createElement("div",{className:"mdl-textfield mdl-js-textfield cli-input-text-container"},o.createElement("input",{className:"cli-input-text-field mdl-textfield__input",type:"text",id:"publicCredential",value:this.state.input,onChange:this.changeInput,onKeyPress:this.inputKeyPress})))))},_onNewChange:function(){this.setState({history:a.getHistory()})}}));t.exports=r},{"../action-creators/cli-action-creator":1,"../action-creators/route-action-creator":4,"../stores/cli-store":20,"../utils/logger":28,react:"react"}],13:[function(e,t,n){var o=e("react"),a=e("../stores/route-store"),s=e("../constants/route-constants"),r=e("../action-creators/route-action-creator"),i=(e("../utils/logger"),o.createClass({displayName:"Header",componentDidMount:function(){a.addChangeListener(this._onRouteChange)},componentWillUnmount:function(){a.removeChangeListener(this._onRouteChange)},getInitialState:function(){return{currentRoute:a.getCurrentRoute()}},selectTab:function(e){switch(this._TabNames[e]){case s.AccountDetails:r.ShowAccountDetails();break;case s.CLI:r.ShowCLI();break;case s.Todos:r.ShowTodos()}},render:function(){var e=["CLI","Todos","Account"],t=e.map(this._isSelected),n=this;return o.createElement("div",{className:"header"},o.createElement("div",{className:"logo"}," ELOS "),o.createElement("div",{className:"tabs"},e.map(function(e,a){return o.createElement("div",{key:e,className:t[a],onClick:n.selectTab.bind(n,e)}," ",e," ")})))},_onRouteChange:function(){this.setState({currentRoute:a.getCurrentRoute()})},_TabNames:{Account:s.AccountDetails,CLI:s.CLI,Todos:s.Todos},_isSelected:function(e){return this._TabNames[e]==this.state.currentRoute?"tab-selected":"tab"}}));t.exports=i},{"../action-creators/route-action-creator":4,"../constants/route-constants":17,"../stores/route-store":24,"../utils/logger":28,react:"react"}],14:[function(e,t,n){var o=e("react"),a=e("../stores/route-store"),s=e("../constants/route-constants"),r=(e("../utils/logger"),e("../components/header")),i=e("../components/cli"),c=e("../components/account_details"),d=e("../components/todos"),l=o.createClass({displayName:"Root",componentDidMount:function(){a.addChangeListener(this._onRouteChange)},componentWillUnmount:function(){a.removeChangeListener(this._onRouteChange)},getInitialState:function(){return{currentRoute:a.getCurrentRoute()}},render:function(){var e;switch(this.state.currentRoute){case s.CLI:e=i;break;case s.AccountDetails:e=c;break;case s.Todos:e=d;break;default:e=i}return o.createElement("div",{"class":"root"},o.createElement(r,null),o.createElement(e,null))},_onRouteChange:function(){this.setState({currentRoute:a.getCurrentRoute()})}});t.exports=l},{"../components/account_details":11,"../components/cli":12,"../components/header":13,"../components/todos":15,"../constants/route-constants":17,"../stores/route-store":24,"../utils/logger":28,react:"react"}],15:[function(e,t,n){var o=e("react"),a=(e("../utils/logger"),e("../stores/cli-store"),e("../action-creators/cli-action-creator"),e("../action-creators/route-action-creator"),e("../action-creators/todos-action-creators")),s=e("../stores/todos-store"),r=o.createClass({displayName:"Todos",componentDidMount:function(){s.addChangeListener(this._onNewChange),componentHandler.upgradeDom()},componentWillUnmount:function(){s.removeChangeListener(this._onNewChange)},componentDidUpdate:function(){componentHandler.upgradeDom()},getInitialState:function(){return{todos:s.getTodos()}},completeTodo:function(e){a.complete(e)},render:function(){var e=(new Date,this.state.todos.filter(function(e){var t=new Date(e.completed_at);return-621355968e5===t.getTime()})),t=this;return o.createElement("div",{className:"todos"},o.createElement("div",{className:"todos-title"},o.createElement("h2",{className:"todos-title-text"}," Todos ")),o.createElement("table",{className:"todos-table mdl-data-table mdl-js-data-table"},o.createElement("thead",null,o.createElement("tr",null,o.createElement("th",{className:"mdl-data-table__cell--non-numeric"},"Name"),o.createElement("th",{className:"mdl-data-table__cell--non-numeric"},"Deadline"),o.createElement("th",null,"Salience"),o.createElement("th",{className:"mdl-data-table__cell--non-numeric"},"Time Spent"),o.createElement("th",null,"  "))),o.createElement("tbody",null,e.map(function(e,n){return o.createElement("tr",{key:n},o.createElement("td",{className:"mdl-data-table__cell--non-numeric"},e.name.substring(0,30)),o.createElement("td",{className:"mdl-data-table__cell--non-numeric"},e.deadline),o.createElement("td",null,"0"),o.createElement("td",{className:"mdl-data-table__cell--non-numeric"},"0"),o.createElement("td",{className:"mdl-data-table__cell--non-numeric"},o.createElement("button",{className:"mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent",onClick:t.completeTodo.bind(null,e.id)},"Complete")))}))))},_onNewChange:function(){this.setState({todos:s.getTodos()})}});t.exports=r},{"../action-creators/cli-action-creator":1,"../action-creators/route-action-creator":4,"../action-creators/todos-action-creators":5,"../stores/cli-store":20,"../stores/todos-store":26,"../utils/logger":28,react:"react"}],16:[function(e,t,n){t.exports={APP_INITIALIZED:"APP_INITIALIZED",TICK_GENERATED:"TICK_GENERATED",CONFIG_UPDATE:"CONFIG_UPDATE",ROUTE_CHANGE:"ROUTE_CHANGE",RECORD_GET:"RECORD_GET",RECORD_UPDATE:"RECORD_UPDATE",RECORD_DELETE:"RECORD_DELETE",RECORD_QUERY:"RECORD_QUERY",TODOS_COMPLETE:"TODOS_COMPLETE",CLI_INPUT:"CLI_INPUT"}},{}],17:[function(e,t,n){t.exports={Home:"home",AccountDetails:"account_details",CLI:"cli",Todos:"todos"}},{}],18:[function(e,t,n){var o=e("flux").Dispatcher;t.exports=new o},{flux:"flux"}],19:[function(e,t,n){var o=e("react"),a=e("react-dom"),s=e("./constants/app-constants"),r=e("./dispatcher/app-dispatcher");e("./stores/log-store"),e("./stores/tick-store");var i=e("./components/root");r.dispatch({actionType:s.APP_INITIALIZED}),a.render(o.createElement(i,null),document.getElementById("react-app"))},{"./components/root":14,"./constants/app-constants":16,"./dispatcher/app-dispatcher":18,"./stores/log-store":22,"./stores/tick-store":25,react:"react","react-dom":"react-dom"}],20:[function(e,t,n){var o=e("events").EventEmitter,a=e("object-assign"),s=e("../dispatcher/app-dispatcher"),r=e("../constants/app-constants"),i=e("../utils/logger"),c=e("../stores/config-store"),d={Change:"change"},l=a({},o.prototype,{ws:null,_history:[],pushHistory:function(e){this._history.push(e),this.emitChange()},init:function(){c.addChangeListener(this._configChange),this._configChange()},_configChange:function(){l._attemptConnection(c.getPublicCredential(),c.getPrivateCredential())},_onMessage:function(e){l.pushHistory(e.data)},_onClose:function(){this.ws=null},_onOpen:function(){i.info("Websocket opened"),l.pushHistory("Welcome to elos")},_attemptConnection:function(e,t){var n="ws://elos.pw/command/web/?public="+e+"&private="+t;null!==this.ws&&this.ws.close(),this.ws=new WebSocket(n),this.ws.onmessage=this._onMessage,this.ws.onopen=this._onOpen,this.ws.onclose=this._onClose},emitChange:function(){this.emit(d.Change)},addChangeListener:function(e){this.on(d.Change,e)},removeChangeListener:function(e){this.removeListener(d.Change,e)},sendInput:function(e){null!==this.ws&&this.ws.send(e),this.pushHistory("› "+e)},getHistory:function(){return this._history}});s.register(function(e){switch(e.actionType){case r.CLI_INPUT:l.sendInput(e.data.input)}}),l.init(),t.exports=l},{"../constants/app-constants":16,"../dispatcher/app-dispatcher":18,"../stores/config-store":21,"../utils/logger":28,events:"events","object-assign":"object-assign"}],21:[function(e,t,n){var o=e("events").EventEmitter,a=e("object-assign"),s=e("../dispatcher/app-dispatcher"),r=e("../constants/app-constants"),i=e("../utils/logger"),c=e("../utils/cookies"),d="public-credential",l="private-credential",u={Changed:"changed"},p=a({},o.prototype,{emitChange:function(){this.emit(u.Changed)},addChangeListener:function(e){this.on(u.Changed,e)},removeChangeListener:function(e){this.removeListener(u.Changed,e)},getPublicCredential:function(){var e=c.get(d);return null===e?"":e},getPrivateCredential:function(){var e=c.get(l);return null===e?"":e},_setPublicCredential:function(e){c.set(d,e)},_setPrivateCredential:function(e){c.set(l,e)},setCredentials:function(e,t){i.info("ConfigStore: setting credentials"),this._setPublicCredential(e),this._setPrivateCredential(t),this.emitChange()}});p.dispatchToken=s.register(function(e){switch(e.actionType){case r.CONFIG_UPDATE:p.setCredentials(e.data.publicCredential,e.data.privateCredential)}}),p.emitChange(),t.exports=p},{"../constants/app-constants":16,"../dispatcher/app-dispatcher":18,"../utils/cookies":27,"../utils/logger":28,events:"events","object-assign":"object-assign"}],22:[function(e,t,n){var o=e("events").EventEmitter,a=e("object-assign"),s=e("../dispatcher/app-dispatcher"),r=e("../utils/logger"),i=a({},o.prototype,{});s.register(function(e){switch(e.actionType){default:r.info("LogStore:",e.actionType,e)}}),t.exports=i},{"../dispatcher/app-dispatcher":18,"../utils/logger":28,events:"events","object-assign":"object-assign"}],23:[function(e,t,n){var o=e("events").EventEmitter,a=e("object-assign"),s=e("../dispatcher/app-dispatcher"),r=e("../constants/app-constants"),i=e("../stores/config-store"),c=e("../utils/logger"),d={Update:"update",Delete:"delete"},l={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){var t,n,o,a,s,r,i,c="",d=0;for(e=l._utf8_encode(e);d<e.length;)t=e.charCodeAt(d++),n=e.charCodeAt(d++),o=e.charCodeAt(d++),a=t>>2,s=(3&t)<<4|n>>4,r=(15&n)<<2|o>>6,i=63&o,isNaN(n)?r=i=64:isNaN(o)&&(i=64),c=c+l._keyStr.charAt(a)+l._keyStr.charAt(s)+l._keyStr.charAt(r)+l._keyStr.charAt(i);return c},decode:function(e){var t,n,o,a,s,r,i,c="",d=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");d<e.length;)a=l._keyStr.indexOf(e.charAt(d++)),s=l._keyStr.indexOf(e.charAt(d++)),r=l._keyStr.indexOf(e.charAt(d++)),i=l._keyStr.indexOf(e.charAt(d++)),t=a<<2|s>>4,n=(15&s)<<4|r>>2,o=(3&r)<<6|i,c+=String.fromCharCode(t),64!==r&&(c+=String.fromCharCode(n)),64!==i&&(c+=String.fromCharCode(o));return c=l._utf8_decode(c)},_utf8_encode:function(e){e=e.replace(/\r\n/g,"\n");var t,n,o="";for(t=0;t<e.length;t++)n=e.charCodeAt(t),128>n?o+=String.fromCharCode(n):n>127&&2048>n?(o+=String.fromCharCode(n>>6|192),o+=String.fromCharCode(63&n|128)):(o+=String.fromCharCode(n>>12|224),o+=String.fromCharCode(n>>6&63|128),o+=String.fromCharCode(63&n|128));return o},_utf8_decode:function(e){for(var t="",n=0,o=0,a=0,s=0;n<e.length;)o=e.charCodeAt(n),128>o?(t+=String.fromCharCode(o),n++):o>191&&224>o?(a=e.charCodeAt(n+1),t+=String.fromCharCode((31&o)<<6|63&a),n+=2):(a=e.charCodeAt(n+1),s=e.charCodeAt(n+2),t+=String.fromCharCode((15&o)<<12|(63&a)<<6|63&s),n+=3);return t}},u=a({},o.prototype,{host:"http://elos.pw",username:void 0,password:void 0,records:{},initialize:function(){i.addChangeListener(this._configChanged),this._configChanged()},_configChanged:function(){u.username=i.getPublicCredential(),u.password=i.getPrivateCredential()},emitChange:function(e){this.emit(e)},addChangeListener:function(e){this.on(d.Update,e),this.on(d.Delete,e)},removeChangeListener:function(e){this.removeListener(d.Update,e),this.removeListener(d.Delete,e)},getAll:function(e){var t,n=[],o=u.records[e];if(void 0===o)return n;for(t in o)o.hasOwnProperty(t)&&n.push(o[t]);return n},_encode:function(e,t){var n;e+="?";for(n in t)t.hasOwnProperty(n)&&(e=e+n+"="+encodeURIComponent(t[n])+"&");return e},_merge:function(e,t){var n,o={};for(n in e)e.hasOwnProperty(n)&&(o[n]=e[n]);for(n in t)t.hasOwnProperty(n)&&(o[n]=t[n]);return o},_post:function(e,t,n,o){c.info("RecordStore._post");var a=new XMLHttpRequest;e=u._encode(e,t),a.open("POST",e,!0,u.username,u.password),a.setRequestHeader("Authorization","Basic "+l.encode(u.username+":"+u.password)),a.onreadystatechange=function(){4===a.readyState&&o(a.status,a.responseText)},a.send(JSON.stringify(n))},_delete:function(e,t,n){c.info("RecordStore._delete");var o=new XMLHttpRequest;o.open("DELETE",u._encode(e,t),!0,u.username,u.password),o.onreadystatechange=function(){4===o.readyState&&n(o.status,o.responseText)},o.send(null)},_get:function(e,t,n){c.info("RecordStore._get");var o=new XMLHttpRequest;o.open("GET",u._encode(e,t),!0,u.username,u.password),o.onreadystatechange=function(){4===o.readyState&&n(o.status,o.responseText)},o.send()},_find:function(e,t){c.info("RecordStore._find"),u._get(u.host+"/record/",{kind:e,id:t},function(t,n){200!==t&&c.info("ERROR: "+t+" "+n);var o=JSON.parse(n);u._merge(u.records[e][o.id]||{},o),u.emitChange(d.Update)})},_save:function(e,t){c.info("RecordStore._save"),u._post(u.host+"/record/",{kind:e},t,function(t,n){200!==t&&201!==t&&c.info("ERROR: "+t+" "+n);var o=JSON.parse(n);u._merge(u.records[e][o.id]||{},o),u.emitChange(d.Update)})},_remove:function(e,t){c.info("RecordStore._remove"),u._delete(u.host+"/record/",{kind:e,id:t.id},t,function(n,o){200!==n&&c.info("ERROR: "+n+" "+o),delete u.records[e][t.id],u.emitChange(d.Delete)})},_query:function(e,t){c.info("RecordStore._query");var n=t;n.kind=e,u._post(u.host+"/record/query/",n,{},function(t,n){200!==t&&c.info("ERROR: "+t+" "+n);var o,a=JSON.parse(n);for(void 0===u.records[e]&&(u.records[e]={}),o=0;o<a.length;o++)u.records[e][a[o].id]=u._merge(u.records[e][a[o].id]||{},a[o]);u.emitChange(d.Update)})}});u.dispatchToken=s.register(function(e){switch(e.actionType){case r.APP_INITIALIZED:s.waitFor([i.dispatchToken]),u.initialize();break;case r.RECORD_GET:u._find(e.data.kind,e.data.id);break;case r.RECORD_UPDATE:u._save(e.data.kind,e.data.record);break;case r.RECORD_DELETE:u._remove(e.data.kind,e.data.record);break;case r.RECORD_QUERY:u._query(e.data.kind,e.data.attrs)}}),t.exports=u},{"../constants/app-constants":16,"../dispatcher/app-dispatcher":18,"../stores/config-store":21,"../utils/logger":28,events:"events","object-assign":"object-assign"}],24:[function(e,t,n){var o=e("events").EventEmitter,a=e("object-assign"),s=e("../dispatcher/app-dispatcher"),r=e("../constants/app-constants"),i=e("../constants/route-constants"),c=e("../utils/logger"),d={Changed:"changed"},l=a({},o.prototype,{emitChange:function(){this.emit(d.Changed)},addChangeListener:function(e){this.on(d.Changed,e)},removeChangeListener:function(e){this.removeListener(d.Changed,e)},initialize:function(){c.info("init");var e=window.location.hash;return 0===e.length?void this.changeRouteTo(i.CLI):(e=e.substring(3,e.length),void this.changeRouteTo(e))},_route:i.CLI,getCurrentRoute:function(){return this._route},changeRouteTo:function(e){window.history.pushState("",e,window.location.pathname+"#!/"+e),this._route=e,this.emitChange()}});s.register(function(e){switch(e.actionType){case r.APP_INITIALIZED:l.initialize();break;case r.ROUTE_CHANGE:l.changeRouteTo(e.data.newRoute)}}),t.exports=l},{"../constants/app-constants":16,"../constants/route-constants":17,"../dispatcher/app-dispatcher":18,"../utils/logger":28,events:"events","object-assign":"object-assign"}],25:[function(e,t,n){var o=e("events").EventEmitter,a=e("object-assign"),s=e("../dispatcher/app-dispatcher"),r=e("../constants/app-constants"),i=10,c={Changed:"changed"},d=a({},o.prototype,{emitChange:function(){this.emit(c.Changed)},addChangeListener:function(e){this.on(c.Changed,e)},removeChangeListener:function(e){this.removeListener(c.Changed,e)},getRemainingTicks:function(){return i},hasMoreTicks:function(){return i>-1}});s.register(function(e){switch(e.actionType){case r.TICK_GENERATED:i>=0&&(i-=1),d.emitChange()}}),t.exports=d},{"../constants/app-constants":16,"../dispatcher/app-dispatcher":18,events:"events","object-assign":"object-assign"}],26:[function(e,t,n){var o=e("events").EventEmitter,a=e("object-assign"),s=e("../dispatcher/app-dispatcher"),r=e("../constants/app-constants"),i=e("../stores/record-store"),c=(e("../action-creators/record-action-creators"),e("../utils/logger"),{Changed:"changed"}),d=a({},o.prototype,{todos:[],getTodos:function(){return this.todos},initialize:function(){i.addChangeListener(this._recordChange),this.refresh()},refresh:function(){i._query("task",{})},_recordChange:function(){d.todos=i.getAll("task"),d.emitChange()},emitChange:function(){this.emit(c.Changed)},addChangeListener:function(e){this.on(c.Changed,e)},removeChangeListener:function(e){this.removeListener(c.Changed,e)},_completeTask:function(e){var t=i.records.task[e];t.completed_at=new Date,i._save("task",t)}});s.register(function(e){switch(e.actionType){case r.APP_INITIALIZED:s.waitFor([i.dispatchToken]),d.initialize();break;case r.TODOS_COMPLETE:d._completeTask(e.data.task_id)}}),t.exports=d},{"../action-creators/record-action-creators":3,"../constants/app-constants":16,"../dispatcher/app-dispatcher":18,"../stores/record-store":23,"../utils/logger":28,events:"events","object-assign":"object-assign"}],27:[function(e,t,n){var o={get:function(e){return e?decodeURIComponent(window.document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null:null},set:function(e,t,n,o,a,s){if(!e||/^(?:expires|max\-age|path|domain|secure)$/i.test(e))return!1;var r="";if(n)switch(n.constructor){case Number:r=n===1/0?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+n;break;case String:r="; expires="+n;break;case Date:r="; expires="+n.toUTCString()}return window.document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+r+(a?"; domain="+a:"")+(o?"; path="+o:"")+(s?"; secure":""),!0},remove:function(e,t,n){return this.hasItem(e)?(window.document.cookie=encodeURIComponent(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(n?"; domain="+n:"")+(t?"; path="+t:""),!0):!1},has:function(e){return e?new RegExp("(?:^|;\\s*)"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie):!1},keys:function(){for(var e=window.document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/),t=e.length,n=0;t>n;n++)e[n]=decodeURIComponent(e[n]);return e}};t.exports=o},{}],28:[function(e,t,n){window.console||(window.console={});var o=function(){};window.console.log||(window.console.log=o);var a={info:function(){console.log.apply(console,arguments)}};t.exports=a},{}]},{},[19]);